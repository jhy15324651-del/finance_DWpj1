<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head th:fragment="header">
    <meta charset="UTF-8">
    <title>Finance Review - MyPage</title>

    <!-- Bootstrap -->
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/pretendard@latest/dist/web/static/pretendard.css">


    <!-- ê³µí†µ CSS -->
    <link rel="stylesheet" th:href="@{/css/common.css}">
</head>

<body th:fragment="bodyheader">

<!-- =========================
     ğŸ§© ë§ˆì´í˜ì´ì§€ ì „ìš© í—¤ë”
========================= -->
<nav class="common-navbar">
    <div class="common-navbar-content">

        <!-- âœ… ë¡œê³  (ê¸°ì¡´ ê·¸ëŒ€ë¡œ ì‚¬ìš©) -->
        <div class="common-logo" onclick="location.href='/'">
            <img src="/img/snn_logo.png" alt="SNN - Signal Not Noise" />
        </div>

        <!-- ğŸ”¥ ë§ˆì´í˜ì´ì§€ ì „ìš© ë©”ë‰´ -->
        <div class="mypage-nav">
            <a th:href="@{/user/mypage/posts}"
               th:classappend="${page == 'posts'} ? 'active'">
                ë‚´ê°€ ì‘ì„±í•œ ê¸€
            </a>

            <a th:href="@{/user/mypage/comments}"
               th:classappend="${page == 'comments'} ? 'active'">
                ë‚´ê°€ ì‘ì„±í•œ ëŒ“ê¸€
            </a>
        </div>

        <!-- âœ… ì‚¬ìš©ì ì˜ì—­ (ê¸°ì¡´ ë²„íŠ¼ ì¬ì‚¬ìš©) -->
        <div class="common-nav-buttons"
             sec:authorize="isAuthenticated()"
             style="display: flex; gap: 10px; align-items: center;">

            <!-- ë‹‰ë„¤ì„ -->
            <span style="color:#667eea; font-weight:600;">
                <span th:text="${#authentication?.principal?.nickname != null ? #authentication.principal.nickname : #authentication.name}"></span>ë‹˜
            </span>

            <!-- ë§ˆì´í˜ì´ì§€ -->
            <button class="btn-common btn-outline"
                    onclick="location.href='/user/mypage'">
                ë§ˆì´í˜ì´ì§€
            </button>

            <!-- ë¡œê·¸ì•„ì›ƒ -->
            <button class="btn-common-primary"
                    onclick="location.href='/user/logout'">
                ë¡œê·¸ì•„ì›ƒ
            </button>
        </div>

    </div>
</nav>

<style>

    /* ë§ˆì´í˜ì´ì§€ ìƒë‹¨ ë©”ë‰´ */
    .mypage-nav {
        display: flex;
        gap: 28px;
        align-items: center;
        margin-left: 40px;
    }

    /* ê¸°ë³¸ ìƒíƒœ */
    .mypage-nav a {
        position: relative;
        font-size: 15px;
        font-weight: 600;
        color: #555;
        text-decoration: none;
        padding: 8px 0;
        transition: color 0.2s ease;
        letter-spacing: -0.2px;
    }

    /* hover */
    .mypage-nav a:hover {
        color: #4f46e5; /* indigo-600 */
    }

    /* í™œì„± íƒ­ */
    .mypage-nav a.active {
        color: #111827; /* gray-900 */
        font-weight: 600;
    }

    /* í™œì„± íƒ­ ë°‘ì¤„ */
    .mypage-nav a.active::after {
        content: "";
        position: absolute;
        left: 0;
        bottom: -6px;
        width: 100%;
        height: 2px;
        background: #4f46e5;
        border-radius: 2px;
    }


</style>

<!-- ë³¸ë¬¸ wrapper -->
<div class="content-wrapper">
